import java.util.List;
import java.util.Arrays;

public class CountryAccessChecker {

    private List<Object[]> restrictedCountries;

    public CountryAccessChecker(List<Object[]> restrictedCountries) {
        this.restrictedCountries = restrictedCountries;
    }

    public boolean canRaiseAccess(String requestFrom, String requestTo) {
        // Iterate through the restricted countries list
        for (Object[] countryRestriction : restrictedCountries) {
            String restrictedFromCountry = (String) countryRestriction[0];
            String restrictedCountryCodes = (String) countryRestriction[1];
            
            // Split the comma-separated restricted countries for this specific restrictedFromCountry
            List<String> restrictedList = Arrays.asList(restrictedCountryCodes.split(","));
            
            // If requestFrom matches the restricted country and requestTo is in its restricted list, deny access
            if (restrictedFromCountry.equals(requestFrom) && restrictedList.contains(requestTo)) {
                System.out.println("Access denied: " + requestFrom + " cannot raise access to " + requestTo + " because it is restricted.");
                return false;
            }
        }
        System.out.println("Access allowed from " + requestFrom + " to " + requestTo);
        return true;
    }

    public void checkAccessForRequests(List<String> requestFromList, List<String> requestToList) {
        for (String requestFrom : requestFromList) {
            for (String requestTo : requestToList) {
                canRaiseAccess(requestFrom, requestTo);
            }
        }
    }

    public static void main(String[] args) {
        // Define restricted countries in List<Object[]>
        List<Object[]> restrictedCountries = List.of(
            new Object[]{"IN", "PK,SG"},
            new Object[]{"PK", "KP,IN"}
        );

        CountryAccessChecker checker = new CountryAccessChecker(restrictedCountries);

        // Define requestFrom and requestTo lists
        List<String> requestFromList = List.of("IN", "US");
        List<String> requestToList = List.of("SG", "IN", "PK");

        // Check access for each pair in the lists
        checker.checkAccessForRequests(requestFromList, requestToList);
    }
}