const file = event.target.files[0];
            if (file) {
                // Check if the file is of type text/csv
                if (file.type === 'text/csv') {
                    readFileAsText(file).then(text => {
                        // Process the CSV text
                        const rows = parseCSV(text);
                        document.getElementById('output').textContent = JSON.stringify(rows, null, 2);
                    }).catch(error => {
                        console.error('Error reading file:', error);
                    });
                } else {
                    console.log('Please upload a CSV file.');
                }
            } else {
                console.log('No file selected.');
            }
        });

        function readFileAsText(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = () => reject(reader.error);
                reader.readAsText(file); // Ensure the file parameter is used here
            });
        }

        function parseCSV(text) {
            // Simple CSV parsing: splitting by new lines and commas
            const rows = text.split('\n').map(row => row.split(','));
            return rows;
        }